name: reviewdog

on:
  pull_request:

jobs:
  #  golangci-lint:
  #    name: golangci-lint
  #    runs-on: ubuntu-latest
  #    steps:
  #      - name: Check out code into the Go module directory
  #        uses: actions/checkout@v2
  #      - name: golangci-lint
  #        uses: reviewdog/action-golangci-lint@v1
  #        with:
  #          github_token: ${{ secrets.github_token }}
  #          golangci_lint_flags: "--tests=false"
  #          reporter: github-pr-review
  #          fail_on_error: true
  reviewdog:
    name: reviewdog
    runs-on: ubuntu-latest
    steps:
      - name: Check out code into the Go module directory
        uses: actions/checkout@v2
      - uses: reviewdog/action-setup@v1
        with:
          reviewdog_version: v0.11.0
#      - name: golangci-lint
#        uses: golangci/golangci-lint-action@v2
#        with:
#          version: v1.29
#          args: --tests=false
#          only-new-issues: true
      - name: Install golangci
        env:
          BINDIR: /usr/local/bin
        run: curl -sSfL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh | sudo sh -s v1.35.2
#      - name: Run reviewdog
#        env:
#          REVIEWDOG_GITHUB_API_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#        run: reviewdog -reporter=github-pr-review -fail-on-error